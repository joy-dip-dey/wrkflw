version: 1.0

description: A basic workflow.

input:
  - nam
  - tim

vars:
  - result: ''
  - resu: ''

tasks:
  task1:
    input: 
      nam:  <% ctx(nam) %>
    action: workflow_pack.getname
    next:
      - when: <% succeeded() %>
        publish: 
           - result: <% result().stdout %>
        do: task2

  task2:
    input: 
      person: <% task(task1).result.result %> 
      ctim:   <% ctx(tim) %>
    action: workflow_pack.wish
    next:
      - when: <% succeeded() %>
        publish:
          - resu: <% result().stdout %>
          - stdout: <% result().stdout %>
          - stderr: <% result().stderr %>

output:
  - resu: 